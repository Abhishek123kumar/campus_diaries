{"ast":null,"code":"import _asyncToGenerator from\"/Users/abhishekkumar/Desktop/firebase-blog-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/abhishekkumar/Desktop/firebase-blog-master/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/abhishekkumar/Desktop/firebase-blog-master/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/abhishekkumar/Desktop/firebase-blog-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/abhishekkumar/Desktop/firebase-blog-master/node_modules/@babel/runtime/regenerator/index.js\";import{createUserWithEmailAndPassword,signInWithEmailAndPassword,updateProfile}from\"firebase/auth\";import React,{useState}from\"react\";import{toast}from\"react-toastify\";import{auth}from\"../firebase\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialState={firstName:\"\",lastName:\"\",email:\"\",password:\"\",confirmPassword:\"\"};var Auth=function Auth(_ref){var setActive=_ref.setActive,setUser=_ref.setUser;var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),signUp=_useState4[0],setSignUp=_useState4[1];var email=state.email,password=state.password,firstName=state.firstName,lastName=state.lastName,confirmPassword=state.confirmPassword;var navigate=useNavigate();var handleChange=function handleChange(e){setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},e.target.name,e.target.value)));};var handleAuth=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _yield$signInWithEmai,user,_yield$createUserWith,_user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(signUp){_context.next=14;break;}if(!(email&&password)){_context.next=11;break;}_context.next=5;return signInWithEmailAndPassword(auth,email,password);case 5:_yield$signInWithEmai=_context.sent;user=_yield$signInWithEmai.user;setUser(user);setActive(\"home\");_context.next=12;break;case 11:return _context.abrupt(\"return\",toast.error(\"All fields are mandatory to fill\"));case 12:_context.next=27;break;case 14:if(!(password!==confirmPassword)){_context.next=16;break;}return _context.abrupt(\"return\",toast.error(\"Password don't match\"));case 16:if(!(firstName&&lastName&&email&&password)){_context.next=26;break;}_context.next=19;return createUserWithEmailAndPassword(auth,email,password);case 19:_yield$createUserWith=_context.sent;_user=_yield$createUserWith.user;_context.next=23;return updateProfile(_user,{displayName:\"\".concat(firstName,\" \").concat(lastName)});case 23:setActive(\"home\");_context.next=27;break;case 26:return _context.abrupt(\"return\",toast.error(\"All fields are mandatory to fill\"));case 27:navigate(\"/\");case 28:case\"end\":return _context.stop();}}},_callee);}));return function handleAuth(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 text-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center heading py-2\",children:!signUp?\"Sign-In\":\"Sign-Up\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row h-100 justify-content-center align-items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-10 col-md-8 col-lg-6\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"row\",onSubmit:handleAuth,children:[signUp&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6 py-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control input-text-box\",placeholder:\"First Name\",name:\"firstName\",value:firstName,onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6 py-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control input-text-box\",placeholder:\"Last Name\",name:\"lastName\",value:lastName,onChange:handleChange})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 py-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control input-text-box\",placeholder:\"Email\",name:\"email\",value:email,onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 py-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control input-text-box\",placeholder:\"Password\",name:\"password\",value:password,onChange:handleChange})}),signUp&&/*#__PURE__*/_jsx(\"div\",{className:\"col-12 py-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control input-text-box\",placeholder:\"Confirm Password\",name:\"confirmPassword\",value:confirmPassword,onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 py-3 text-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn \".concat(!signUp?\"btn-sign-in\":\"btn-sign-up\"),type:\"submit\",children:!signUp?\"Sign-in\":\"Sign-up\"})})]}),/*#__PURE__*/_jsx(\"div\",{children:!signUp?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center justify-content-center mt-2 pt-2\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"small fw-bold mt-2 pt-1 mb-0\",children:[\"Don't have an account ?\\xA0\",/*#__PURE__*/_jsx(\"span\",{className:\"link-danger\",style:{textDecoration:\"none\",cursor:\"pointer\"},onClick:function onClick(){return setSignUp(true);},children:\"Sign Up\"})]})})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center justify-content-center mt-2 pt-2\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"small fw-bold mt-2 pt-1 mb-0\",children:[\"Already have an account ?\\xA0\",/*#__PURE__*/_jsx(\"span\",{style:{textDecoration:\"none\",cursor:\"pointer\",color:\"#298af2\"},onClick:function onClick(){return setSignUp(false);},children:\"Sign In\"})]})})})})]})})]})});};export default Auth;","map":{"version":3,"names":["createUserWithEmailAndPassword","signInWithEmailAndPassword","updateProfile","React","useState","toast","auth","useNavigate","initialState","firstName","lastName","email","password","confirmPassword","Auth","setActive","setUser","state","setState","signUp","setSignUp","navigate","handleChange","e","target","name","value","handleAuth","preventDefault","user","error","displayName","textDecoration","cursor","color"],"sources":["/Users/abhishekkumar/Desktop/firebase-blog-master/src/pages/Auth.js"],"sourcesContent":["import {\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  updateProfile,\n} from \"firebase/auth\";\nimport React, { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { auth } from \"../firebase\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst initialState = {\n  firstName: \"\",\n  lastName: \"\",\n  email: \"\",\n  password: \"\",\n  confirmPassword: \"\",\n};\n\nconst Auth = ({ setActive, setUser }) => {\n  const [state, setState] = useState(initialState);\n  const [signUp, setSignUp] = useState(false);\n\n  const { email, password, firstName, lastName, confirmPassword } = state;\n\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    setState({ ...state, [e.target.name]: e.target.value });\n  };\n\n  const handleAuth = async (e) => {\n    e.preventDefault();\n    if (!signUp) {\n      if (email && password) {\n        const { user } = await signInWithEmailAndPassword(\n          auth,\n          email,\n          password\n        );\n        setUser(user);\n        setActive(\"home\");\n      } else {\n        return toast.error(\"All fields are mandatory to fill\");\n      }\n    } else {\n      if (password !== confirmPassword) {\n        return toast.error(\"Password don't match\");\n      }\n      if (firstName && lastName && email && password) {\n        const { user } = await createUserWithEmailAndPassword(\n          auth,\n          email,\n          password\n        );\n        await updateProfile(user, { displayName: `${firstName} ${lastName}` });\n        setActive(\"home\");\n      } else {\n        return toast.error(\"All fields are mandatory to fill\");\n      }\n    }\n    navigate(\"/\");\n  };\n\n  return (\n    <div className=\"container-fluid mb-4\">\n      <div className=\"container\">\n        <div className=\"col-12 text-center\">\n          <div className=\"text-center heading py-2\">\n            {!signUp ? \"Sign-In\" : \"Sign-Up\"}\n          </div>\n        </div>\n        <div className=\"row h-100 justify-content-center align-items-center\">\n          <div className=\"col-10 col-md-8 col-lg-6\">\n            <form className=\"row\" onSubmit={handleAuth}>\n              {signUp && (\n                <>\n                  <div className=\"col-6 py-3\">\n                    <input\n                      type=\"text\"\n                      className=\"form-control input-text-box\"\n                      placeholder=\"First Name\"\n                      name=\"firstName\"\n                      value={firstName}\n                      onChange={handleChange}\n                    />\n                  </div>\n                  <div className=\"col-6 py-3\">\n                    <input\n                      type=\"text\"\n                      className=\"form-control input-text-box\"\n                      placeholder=\"Last Name\"\n                      name=\"lastName\"\n                      value={lastName}\n                      onChange={handleChange}\n                    />\n                  </div>\n                </>\n              )}\n              <div className=\"col-12 py-3\">\n                <input\n                  type=\"email\"\n                  className=\"form-control input-text-box\"\n                  placeholder=\"Email\"\n                  name=\"email\"\n                  value={email}\n                  onChange={handleChange}\n                />\n              </div>\n              <div className=\"col-12 py-3\">\n                <input\n                  type=\"password\"\n                  className=\"form-control input-text-box\"\n                  placeholder=\"Password\"\n                  name=\"password\"\n                  value={password}\n                  onChange={handleChange}\n                />\n              </div>\n              {signUp && (\n                <div className=\"col-12 py-3\">\n                  <input\n                    type=\"password\"\n                    className=\"form-control input-text-box\"\n                    placeholder=\"Confirm Password\"\n                    name=\"confirmPassword\"\n                    value={confirmPassword}\n                    onChange={handleChange}\n                  />\n                </div>\n              )}\n\n              <div className=\"col-12 py-3 text-center\">\n                <button\n                  className={`btn ${!signUp ? \"btn-sign-in\" : \"btn-sign-up\"}`}\n                  type=\"submit\"\n                >\n                  {!signUp ? \"Sign-in\" : \"Sign-up\"}\n                </button>\n              </div>\n            </form>\n            <div>\n              {!signUp ? (\n                <>\n                  <div className=\"text-center justify-content-center mt-2 pt-2\">\n                    <p className=\"small fw-bold mt-2 pt-1 mb-0\">\n                      Don't have an account ?&nbsp;\n                      <span\n                        className=\"link-danger\"\n                        style={{ textDecoration: \"none\", cursor: \"pointer\" }}\n                        onClick={() => setSignUp(true)}\n                      >\n                        Sign Up\n                      </span>\n                    </p>\n                  </div>\n                </>\n              ) : (\n                <>\n                  <div className=\"text-center justify-content-center mt-2 pt-2\">\n                    <p className=\"small fw-bold mt-2 pt-1 mb-0\">\n                      Already have an account ?&nbsp;\n                      <span\n                        style={{\n                          textDecoration: \"none\",\n                          cursor: \"pointer\",\n                          color: \"#298af2\",\n                        }}\n                        onClick={() => setSignUp(false)}\n                      >\n                        Sign In\n                      </span>\n                    </p>\n                  </div>\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Auth;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}