{"ast":null,"code":"import _objectSpread from\"/Users/abhishekkumar/Desktop/firebase-blog-master/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/abhishekkumar/Desktop/firebase-blog-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/abhishekkumar/Desktop/firebase-blog-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/abhishekkumar/Desktop/firebase-blog-master/node_modules/@babel/runtime/regenerator/index.js\";import{collection,getDocs,query,where}from\"firebase/firestore\";import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import BlogSection from\"../components/BlogSection\";import Spinner from\"../components/Spinner\";import{db}from\"../firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CategoryBlog=function CategoryBlog(_ref){var setActive=_ref.setActive;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),categoryBlogs=_useState2[0],setCategoryBlogs=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useParams=useParams(),category=_useParams.category;var getCategoryBlogs=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var blogRef,categoryBlogQuery,docSnapshot,categoryBlogs;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);blogRef=collection(db,\"blogs\");categoryBlogQuery=query(blogRef,where(\"category\",\"==\",category));_context.next=5;return getDocs(categoryBlogQuery);case 5:docSnapshot=_context.sent;categoryBlogs=[];docSnapshot.forEach(function(doc){categoryBlogs.push(_objectSpread({id:doc.id},doc.data()));});setCategoryBlogs(categoryBlogs);setLoading(false);case 10:case\"end\":return _context.stop();}}},_callee);}));return function getCategoryBlogs(){return _ref2.apply(this,arguments);};}();useEffect(function(){getCategoryBlogs();setActive(null);},[]);if(loading){return/*#__PURE__*/_jsx(Spinner,{});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"blog-heading text-center py-2 mb-4\",children:[\"Category: \",/*#__PURE__*/_jsx(\"strong\",{children:category.toLocaleUpperCase()})]}),categoryBlogs===null||categoryBlogs===void 0?void 0:categoryBlogs.map(function(item){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(BlogSection,_objectSpread({},item),item.id)});})]})})});};export default CategoryBlog;","map":{"version":3,"names":["collection","getDocs","query","where","React","useState","useEffect","useParams","BlogSection","Spinner","db","CategoryBlog","setActive","categoryBlogs","setCategoryBlogs","loading","setLoading","category","getCategoryBlogs","blogRef","categoryBlogQuery","docSnapshot","forEach","doc","push","id","data","toLocaleUpperCase","map","item"],"sources":["/Users/abhishekkumar/Desktop/firebase-blog-master/src/pages/CategoryBlog.js"],"sourcesContent":["import { collection, getDocs, query, where } from \"firebase/firestore\";\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport BlogSection from \"../components/BlogSection\";\nimport Spinner from \"../components/Spinner\";\nimport { db } from \"../firebase\";\n\nconst CategoryBlog = ({ setActive }) => {\n  const [categoryBlogs, setCategoryBlogs] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const { category } = useParams();\n\n  const getCategoryBlogs = async () => {\n    setLoading(true);\n    const blogRef = collection(db, \"blogs\");\n    const categoryBlogQuery = query(blogRef, where(\"category\", \"==\", category));\n    const docSnapshot = await getDocs(categoryBlogQuery);\n    let categoryBlogs = [];\n    docSnapshot.forEach((doc) => {\n      categoryBlogs.push({ id: doc.id, ...doc.data() });\n    });\n    setCategoryBlogs(categoryBlogs);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    getCategoryBlogs();\n    setActive(null);\n  }, []);\n\n  if (loading) {\n    return <Spinner />;\n  }\n\n  return (\n    <div>\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"blog-heading text-center py-2 mb-4\">\n            Category: <strong>{category.toLocaleUpperCase()}</strong>\n          </div>\n          {categoryBlogs?.map((item) => (\n            <div className=\"col-md-6\">\n              <BlogSection key={item.id} {...item} />\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryBlog;\n"],"mappings":"8hBAAA,OAASA,UAAT,CAAqBC,OAArB,CAA8BC,KAA9B,CAAqCC,KAArC,KAAkD,oBAAlD,CACA,MAAOC,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,YAAP,KAAwB,2BAAxB,CACA,MAAOC,QAAP,KAAoB,uBAApB,CACA,OAASC,EAAT,KAAmB,aAAnB,C,wFAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,MAAmB,IAAhBC,UAAgB,MAAhBA,SAAgB,CACtC,cAA0CP,QAAQ,CAAC,EAAD,CAAlD,wCAAOQ,aAAP,eAAsBC,gBAAtB,eACA,eAA8BT,QAAQ,CAAC,KAAD,CAAtC,yCAAOU,OAAP,eAAgBC,UAAhB,eACA,eAAqBT,SAAS,EAA9B,CAAQU,QAAR,YAAQA,QAAR,CAEA,GAAMC,iBAAgB,2FAAG,2LACvBF,UAAU,CAAC,IAAD,CAAV,CACMG,OAFiB,CAEPnB,UAAU,CAACU,EAAD,CAAK,OAAL,CAFH,CAGjBU,iBAHiB,CAGGlB,KAAK,CAACiB,OAAD,CAAUhB,KAAK,CAAC,UAAD,CAAa,IAAb,CAAmBc,QAAnB,CAAf,CAHR,uBAIGhB,QAAO,CAACmB,iBAAD,CAJV,QAIjBC,WAJiB,eAKnBR,aALmB,CAKH,EALG,CAMvBQ,WAAW,CAACC,OAAZ,CAAoB,SAACC,GAAD,CAAS,CAC3BV,aAAa,CAACW,IAAd,gBAAqBC,EAAE,CAAEF,GAAG,CAACE,EAA7B,EAAoCF,GAAG,CAACG,IAAJ,EAApC,GACD,CAFD,EAGAZ,gBAAgB,CAACD,aAAD,CAAhB,CACAG,UAAU,CAAC,KAAD,CAAV,CAVuB,uDAAH,kBAAhBE,iBAAgB,2CAAtB,CAaAZ,SAAS,CAAC,UAAM,CACdY,gBAAgB,GAChBN,SAAS,CAAC,IAAD,CAAT,CACD,CAHQ,CAGN,EAHM,CAAT,CAKA,GAAIG,OAAJ,CAAa,CACX,mBAAO,KAAC,OAAD,IAAP,CACD,CAED,mBACE,kCACE,YAAK,SAAS,CAAC,WAAf,uBACE,aAAK,SAAS,CAAC,KAAf,wBACE,aAAK,SAAS,CAAC,oCAAf,qCACY,wBAASE,QAAQ,CAACU,iBAAT,EAAT,EADZ,GADF,CAIGd,aAJH,SAIGA,aAJH,iBAIGA,aAAa,CAAEe,GAAf,CAAmB,SAACC,IAAD,qBAClB,YAAK,SAAS,CAAC,UAAf,uBACE,KAAC,WAAD,kBAA+BA,IAA/B,EAAkBA,IAAI,CAACJ,EAAvB,CADF,EADkB,EAAnB,CAJH,GADF,EADF,EADF,CAgBD,CA3CD,CA6CA,cAAed,aAAf"},"metadata":{},"sourceType":"module"}