{"ast":null,"code":"import _asyncToGenerator from\"/Users/abhishekkumar/Desktop/firebase-blog-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/abhishekkumar/Desktop/firebase-blog-master/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/abhishekkumar/Desktop/firebase-blog-master/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/abhishekkumar/Desktop/firebase-blog-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/abhishekkumar/Desktop/firebase-blog-master/node_modules/@babel/runtime/regenerator/index.js\";import{createUserWithEmailAndPassword,signInWithEmailAndPassword,updateProfile}from\"firebase/auth\";import React,{useState}from\"react\";import{toast}from\"react-toastify\";import{auth}from\"../firebase\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialState={firstName:\"\",lastName:\"\",email:\"\",password:\"\",confirmPassword:\"\"};var Auth=function Auth(_ref){var setActive=_ref.setActive,setUser=_ref.setUser;var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),signUp=_useState4[0],setSignUp=_useState4[1];var email=state.email,password=state.password,firstName=state.firstName,lastName=state.lastName,confirmPassword=state.confirmPassword;var navigate=useNavigate();var handleChange=function handleChange(e){setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},e.target.name,e.target.value)));};var handleAuth=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _yield$signInWithEmai,user,_yield$createUserWith,_user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(signUp){_context.next=14;break;}if(!(email&&password)){_context.next=11;break;}_context.next=5;return signInWithEmailAndPassword(auth,email,password);case 5:_yield$signInWithEmai=_context.sent;user=_yield$signInWithEmai.user;setUser(user);setActive(\"home\");_context.next=12;break;case 11:return _context.abrupt(\"return\",toast.error(\"All fields are mandatory to fill\"));case 12:_context.next=27;break;case 14:if(!(password!==confirmPassword)){_context.next=16;break;}return _context.abrupt(\"return\",toast.error(\"Password don't match\"));case 16:if(!(firstName&&lastName&&email&&password)){_context.next=26;break;}_context.next=19;return createUserWithEmailAndPassword(auth,email,password);case 19:_yield$createUserWith=_context.sent;_user=_yield$createUserWith.user;_context.next=23;return updateProfile(_user,{displayName:\"\".concat(firstName,\" \").concat(lastName)});case 23:setActive(\"home\");_context.next=27;break;case 26:return _context.abrupt(\"return\",toast.error(\"All fields are mandatory to fill\"));case 27:navigate(\"/\");case 28:case\"end\":return _context.stop();}}},_callee);}));return function handleAuth(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 text-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center heading py-2\",children:!signUp?\"Sign-In\":\"Sign-Up\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row h-100 justify-content-center align-items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-10 col-md-8 col-lg-6\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"row\",onSubmit:handleAuth,children:[signUp&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6 py-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control input-text-box\",placeholder:\"First Name\",name:\"firstName\",value:firstName,onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6 py-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control input-text-box\",placeholder:\"Last Name\",name:\"lastName\",value:lastName,onChange:handleChange})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 py-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control input-text-box\",placeholder:\"Email\",name:\"email\",value:email,onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 py-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control input-text-box\",placeholder:\"Password\",name:\"password\",value:password,onChange:handleChange})}),signUp&&/*#__PURE__*/_jsx(\"div\",{className:\"col-12 py-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control input-text-box\",placeholder:\"Confirm Password\",name:\"confirmPassword\",value:confirmPassword,onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 py-3 text-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn \".concat(!signUp?\"btn-sign-in\":\"btn-sign-up\"),type:\"submit\",children:!signUp?\"Sign-in\":\"Sign-up\"})})]}),/*#__PURE__*/_jsx(\"div\",{children:!signUp?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center justify-content-center mt-2 pt-2\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"small fw-bold mt-2 pt-1 mb-0\",children:[\"Don't have an account ?\\xA0\",/*#__PURE__*/_jsx(\"span\",{className:\"link-danger\",style:{textDecoration:\"none\",cursor:\"pointer\"},onClick:function onClick(){return setSignUp(true);},children:\"Sign Up\"})]})})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center justify-content-center mt-2 pt-2\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"small fw-bold mt-2 pt-1 mb-0\",children:[\"Already have an account ?\\xA0\",/*#__PURE__*/_jsx(\"span\",{style:{textDecoration:\"none\",cursor:\"pointer\",color:\"#298af2\"},onClick:function onClick(){return setSignUp(false);},children:\"Sign In\"})]})})})})]})})]})});};export default Auth;","map":null,"metadata":{},"sourceType":"module"}