{"ast":null,"code":"import _objectSpread from\"/Users/abhishekkumar/Desktop/firebase-blog-master/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/abhishekkumar/Desktop/firebase-blog-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/abhishekkumar/Desktop/firebase-blog-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/abhishekkumar/Desktop/firebase-blog-master/node_modules/@babel/runtime/regenerator/index.js\";import{collection,getDocs,query,where}from\"firebase/firestore\";import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import BlogSection from\"../components/BlogSection\";import Spinner from\"../components/Spinner\";import{db}from\"../firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TagBlog=function TagBlog(_ref){var setActive=_ref.setActive;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tagBlogs=_useState2[0],setTagBlogs=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useParams=useParams(),tag=_useParams.tag;var getTagBlogs=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var blogRef,tagBlogQuery,docSnapshot,tagBlogs;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);blogRef=collection(db,\"blogs\");tagBlogQuery=query(blogRef,where(\"tags\",\"array-contains\",tag));_context.next=5;return getDocs(tagBlogQuery);case 5:docSnapshot=_context.sent;tagBlogs=[];docSnapshot.forEach(function(doc){tagBlogs.push(_objectSpread({id:doc.id},doc.data()));});setTagBlogs(tagBlogs);setLoading(false);case 10:case\"end\":return _context.stop();}}},_callee);}));return function getTagBlogs(){return _ref2.apply(this,arguments);};}();useEffect(function(){getTagBlogs();setActive(null);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);if(loading){return/*#__PURE__*/_jsx(Spinner,{});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"blog-heading text-center py-2 mb-4\",children:[\"Tag: \",/*#__PURE__*/_jsx(\"strong\",{children:tag.toLocaleUpperCase()})]}),tagBlogs===null||tagBlogs===void 0?void 0:tagBlogs.map(function(item){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(BlogSection,_objectSpread({},item),item.id)});})]})})});};export default TagBlog;","map":{"version":3,"names":["collection","getDocs","query","where","React","useState","useEffect","useParams","BlogSection","Spinner","db","TagBlog","setActive","tagBlogs","setTagBlogs","loading","setLoading","tag","getTagBlogs","blogRef","tagBlogQuery","docSnapshot","forEach","doc","push","id","data","toLocaleUpperCase","map","item"],"sources":["/Users/abhishekkumar/Desktop/firebase-blog-master/src/pages/TagBlog.js"],"sourcesContent":["import { collection, getDocs, query, where } from \"firebase/firestore\";\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport BlogSection from \"../components/BlogSection\";\nimport Spinner from \"../components/Spinner\";\nimport { db } from \"../firebase\";\n\nconst TagBlog = ({setActive}) => {\n  const [tagBlogs, setTagBlogs] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const { tag } = useParams();\n\n  const getTagBlogs = async () => {\n    setLoading(true);\n    const blogRef = collection(db, \"blogs\");\n    const tagBlogQuery = query(blogRef, where(\"tags\", \"array-contains\", tag));\n    const docSnapshot = await getDocs(tagBlogQuery);\n    let tagBlogs = [];\n    docSnapshot.forEach((doc) => {\n      tagBlogs.push({ id: doc.id, ...doc.data() });\n    });\n    setTagBlogs(tagBlogs);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    getTagBlogs();\n    setActive(null);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (loading) {\n    return <Spinner />;\n  }\n\n  return (\n    <div>\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"blog-heading text-center py-2 mb-4\">\n            Tag: <strong>{tag.toLocaleUpperCase()}</strong>\n          </div>\n          {tagBlogs?.map((item) => (\n            <div className=\"col-md-6\">\n              <BlogSection key={item.id} {...item} />\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TagBlog;\n"],"mappings":"8hBAAA,OAASA,UAAT,CAAqBC,OAArB,CAA8BC,KAA9B,CAAqCC,KAArC,KAAkD,oBAAlD,CACA,MAAOC,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,YAAP,KAAwB,2BAAxB,CACA,MAAOC,QAAP,KAAoB,uBAApB,CACA,OAASC,EAAT,KAAmB,aAAnB,C,wFAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,MAAiB,IAAfC,UAAe,MAAfA,SAAe,CAC/B,cAAgCP,QAAQ,CAAC,EAAD,CAAxC,wCAAOQ,QAAP,eAAiBC,WAAjB,eACA,eAA8BT,QAAQ,CAAC,KAAD,CAAtC,yCAAOU,OAAP,eAAgBC,UAAhB,eACA,eAAgBT,SAAS,EAAzB,CAAQU,GAAR,YAAQA,GAAR,CAEA,GAAMC,YAAW,2FAAG,iLAClBF,UAAU,CAAC,IAAD,CAAV,CACMG,OAFY,CAEFnB,UAAU,CAACU,EAAD,CAAK,OAAL,CAFR,CAGZU,YAHY,CAGGlB,KAAK,CAACiB,OAAD,CAAUhB,KAAK,CAAC,MAAD,CAAS,gBAAT,CAA2Bc,GAA3B,CAAf,CAHR,uBAIQhB,QAAO,CAACmB,YAAD,CAJf,QAIZC,WAJY,eAKdR,QALc,CAKH,EALG,CAMlBQ,WAAW,CAACC,OAAZ,CAAoB,SAACC,GAAD,CAAS,CAC3BV,QAAQ,CAACW,IAAT,gBAAgBC,EAAE,CAAEF,GAAG,CAACE,EAAxB,EAA+BF,GAAG,CAACG,IAAJ,EAA/B,GACD,CAFD,EAGAZ,WAAW,CAACD,QAAD,CAAX,CACAG,UAAU,CAAC,KAAD,CAAV,CAVkB,uDAAH,kBAAXE,YAAW,2CAAjB,CAaAZ,SAAS,CAAC,UAAM,CACdY,WAAW,GACXN,SAAS,CAAC,IAAD,CAAT,CACA;AACD,CAJQ,CAIN,EAJM,CAAT,CAMA,GAAIG,OAAJ,CAAa,CACX,mBAAO,KAAC,OAAD,IAAP,CACD,CAED,mBACE,kCACE,YAAK,SAAS,CAAC,WAAf,uBACE,aAAK,SAAS,CAAC,KAAf,wBACE,aAAK,SAAS,CAAC,oCAAf,gCACO,wBAASE,GAAG,CAACU,iBAAJ,EAAT,EADP,GADF,CAIGd,QAJH,SAIGA,QAJH,iBAIGA,QAAQ,CAAEe,GAAV,CAAc,SAACC,IAAD,qBACb,YAAK,SAAS,CAAC,UAAf,uBACE,KAAC,WAAD,kBAA+BA,IAA/B,EAAkBA,IAAI,CAACJ,EAAvB,CADF,EADa,EAAd,CAJH,GADF,EADF,EADF,CAgBD,CA5CD,CA8CA,cAAed,QAAf"},"metadata":{},"sourceType":"module"}